# Environment identifier
spring.config.activate.on-profile=prod
server.port=8080

# Database configuration - Production
spring.datasource.url=jdbc:postgresql://${DB_HOST}/${DB_NAME}?user=${DB_USER}&password=${DB_PASSWORD}&ssl=true
spring.jpa.show-sql=false
spring.jpa.hibernate.ddl-auto=validate
spring.sql.init.mode=never

# Database connection pool - Production (optimized)
spring.datasource.hikari.maximum-pool-size=50
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.connection-test-query=SELECT 1
spring.datasource.hikari.auto-commit=true
spring.datasource.hikari.leak-detection-threshold=60000
spring.datasource.hikari.pool-name=ProdHikariCP
spring.datasource.hikari.register-mbeans=true

# Redis configuration - Production
spring.cache.type=redis
spring.data.redis.host=${REDIS_HOST}
spring.data.redis.port=${REDIS_PORT}
spring.data.redis.password=${REDIS_PASSWORD}
spring.data.redis.ssl.enabled=true
spring.data.redis.repositories.enabled=false
spring.data.redis.lettuce.pool.max-active=32
spring.data.redis.lettuce.pool.max-idle=16
spring.data.redis.lettuce.pool.min-idle=8
spring.data.redis.lettuce.pool.max-wait=100ms

# Logging - Minimal for production
logging.level.root=warn
logging.level.org.springframework=error
logging.level.com.yourapp=info

# OAuth2 - Production
spring.security.oauth2.client.registration.google.client-id=${CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${CLIENT_SECRET}
spring.security.oauth2.client.registration.google.redirect-uri=https://equal-aardvark-java-service-74283cac.koyeb.app/login/oauth2/code/google

# URLs - Production
app.frontend.url=https://engly-client-blmg.vercel.app
app.backend-cookie.url=equal-aardvark-java-service-74283cac.koyeb.app
app.backend.url=https://equal-aardvark-java-service-74283cac.koyeb.app

# Server security headers
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.http-only=true